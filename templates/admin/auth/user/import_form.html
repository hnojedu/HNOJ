{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}{{ block.super }}
<script src="{% url 'admin:jsi18n' %}"></script>
{{ media }}
{% endblock %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}">{% endblock %}

{#{% block coltype %}colM{% endblock %}#}

{#{% block bodyclass %}{{ block.super }} app-{{ opts.app_label }} model-{{ opts.model_name }} change-form{% endblock %}#}

{% block breadcrumbs %}
    <div class="breadcrumbs">
        <a href="{% url 'admin:index' %}">{% trans "Home" %}</a> &rsaquo;
        <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{% trans "Authentication and Authorization" %}</a> &rsaquo;
        <a href="{% url opts|admin_urlname:'changelist' %}">{% trans "Users" %}</a> &rsaquo;
        {% trans "Import from CSV" %}
    </div>
{% endblock %}

{% block content %}<div id="content-main">
    <form enctype="multipart/form-data" method="post">
        {% csrf_token %}
        <input type='hidden' name='action' value='csv-form'>
        <fieldset class="module aligned">
            <h2>Import</h2>
            <div class="form-row"><div>
                {{ csv_form }}
                <a href="{% url 'admin:user_import_sample' %}">Sample</a>
                <input type="submit" value="Load">
            </div></div>
        </fieldset>
    </form>
    <form method="post">
        {% csrf_token %}
        <input type='hidden' name='action' value='import-form'>
        {{ import_form.non_field_errors }}
        {{ import_form.management_form }}
        <fieldset class="module aligned">
            <h2>Preview</h2>
            <div class="form-row"><div>
                <input type="submit" value="Press here to submit" onclick="return confirm('Are you sure?')">
            </div></div>
            <div class="form-row"><div>
            <table style="width: 100%">
                <thead>
                    {% for form in import_form|slice:':1' %}
                        <tr>
                            {% for field in form %}<th>{{ field.label }}</th>{% endfor %}
                        </tr>
                    {% endfor %}
                </thead>
                <tbody>
                    {% for form in import_form %}
                        <tr>
                            {% for field in form %}<td>{{ field.as_hidden }}{{ field.value }}</td>{% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
                <tfoot>
                    {% for form in import_form|slice:':1' %}
                        <tr>
                            {% for field in form %}<th>{{ field.label }}</th>{% endfor %}
                        </tr>
                    {% endfor %}
                </tfoot>
            </table>
            </div></div>
        </fieldset>
    </form>

{#<form {% if has_file_field %}enctype="multipart/form-data" {% endif %}{% if form_url %}action="{{ form_url }}" {% endif %}method="post" id="{{ opts.model_name }}_form" novalidate>{% csrf_token %}{% block form_top %}{% endblock %}#}
{#<div>#}
{#{% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="1">{% endif %}#}
{#{% if to_field %}<input type="hidden" name="{{ to_field_var }}" value="{{ to_field }}">{% endif %}#}
{#{% if save_on_top %}{% block submit_buttons_top %}{% submit_row %}{% endblock %}{% endif %}#}
{#{% if errors %}#}
{#    <p class="errornote">#}
{#    {% if errors|length == 1 %}{% translate "Please correct the error below." %}{% else %}{% translate "Please correct the errors below." %}{% endif %}#}
{#    </p>#}
{#    {{ adminform.form.non_field_errors }}#}
{#{% endif %}#}
{##}
{#{% block field_sets %}#}
{#{% for fieldset in adminform %}#}
{#  {% include "admin/includes/fieldset.html" %}#}
{#{% endfor %}#}
{#{% endblock %}#}
{##}
{#{% block after_field_sets %}{% endblock %}#}
{##}
{#{% block inline_field_sets %}#}
{#{% for inline_admin_formset in inline_admin_formsets %}#}
{#    {% include inline_admin_formset.opts.template %}#}
{#{% endfor %}#}
{#{% endblock %}#}
{##}
{#{% block after_related_objects %}{% endblock %}#}
{##}
{#{% block submit_buttons_bottom %}{% submit_row %}{% endblock %}#}
{##}
{#{% block admin_change_form_document_ready %}#}
{#    <script id="django-admin-form-add-constants"#}
{#            src="{% static 'admin/js/change_form.js' %}"#}
{#            {% if adminform and add %}#}
{#                data-model-name="{{ opts.model_name }}"#}
{#            {% endif %}#}
{#            async>#}
{#    </script>#}
{% endblock %}
{##}
{# JavaScript for prepopulated fields #}
{#{% prepopulated_fields_js %}#}
{##}
{#</div>#}
{#</form></div>#}
{#{% endblock %}#}


{#{% extends "admin/change_form.html" %}#}
{#{% load i18n admin_urls %}#}

{##}
{#{% block content %}#}
{#    {{ csv_form }}#}
{#{% endblock %}#}